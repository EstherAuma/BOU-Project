{% extends 'base.html' %}
{% load static %}
{% block content %}

<div id="sidebar">
    <div id="profile-container">
      <a href="#">
        <img
          src="{% static 'images/avatar.jpeg' %}"
          alt="Your Image Alt Text"
        />
      </a>
      <p class="profile-name">Malinda</p>
    </div>


<form onsubmit="return false;">
<input type="text" id="search-input" placeholder="Search menu items" oninput="searchMenuItems()">
<button type="button" onclick="searchMenuItems()">Search</button>
</form>
    <a href="#" class="menu-item">Staff Dashboard</a>
    <a href="#" class="menu-item">New travel request</a>
    <a href="all-travel-request-table" class="menu-item">All travel request</a>
  </div>

  <div id="content">
    
    <ul class="nav justify-content-end">
      <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="">
          <img src="{% static 'images/home.jpg' %}" alt="Home">
        </a>
      </li>
  
      <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="">
          <img src="{% static 'images/notification.png' %}" alt="Notification">
        </a>
      </li>


      <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="">
          <img src="{% static 'images/profile.png' %}" alt="Profile">
        </a>
      </li>
    </ul>
    <div class="container">
      <h3 style="background-color: #dd9024; margin-top: 20px;">Registered user and account details</h3>
      <hr>

      <h3 style="text-decoration: underline;">User Details</h3>
      {% if essie_user %}
        <div class="user-details">
            <div class="detail-row">
                <span class="label">First Name:</span>
                <div class="value">{{ essie_user.first_name }}</div>
            </div>
            <div class="detail-row">
                <span class="label">Last Name:</span>
                <div class="value">{{ essie_user.last_name }}</div>
            </div>
            <div class="detail-row">
                <span class="label">Email:</span>
                <div class="value">{{ essie_user.email }}</div>
            </div>
          
            <div class="detail-row">
                <span class="label">Staff ID:</span>
                <div class="value">BOU-{{ essie_user.id }}</div>
            </div>
            <div class="detail-row">
                <span class="label">Department:</span>
                <div class="value">{{ essie_user.department }}</div>
            </div>
            <div class="detail-row">
                <span class="label">Phone Number:</span>
                <div class="value">{{ essie_user.phone_number }}</div>
            </div>
        

        </div>
    {% else %}
        <p>User with username 'essie' does not exist.</p>
    {% endif %}


        <h4 style="text-decoration: underline;">Account settings</h4>

        <div class="detail-row">
          <span class="label">Username:</span>
          <div class="value">{{ essie_user.username }}</div>
      </div>
      <div class="detail-row">
          <span class="label">Password:</span>
          <div class="value">{{ essie_user.password }}</div>
      </div>

      
   </div>

  <script>
    function searchMenuItems() {
      // Get the search input value
      var searchInput = document
        .getElementById("search-input")
        .value.toLowerCase();

      // Get all menu items
      var menuItems = document.getElementsByClassName("menu-item");

      // Loop through menu items and show based on the search input
      for (var i = 0; i < menuItems.length; i++) {
        var menuItemText = menuItems[i].innerText.toLowerCase();
        if (menuItemText.includes(searchInput)) {
          menuItems[i].style.display = "block";
        } else {
          menuItems[i].style.display = "none";
        }
      }
    }function searchMenuItems() {
  // Get the search input value
  var searchInput = document.getElementById("search-input").value.toLowerCase();

  // Get all menu items
  var menuItems = document.getElementsByClassName("menu-item");

  // Loop through menu items and show/hide based on the search input
  for (var i = 0; i < menuItems.length; i++) {
    var menuItemText = menuItems[i].innerText.toLowerCase();
    if (menuItemText.includes(searchInput)) {
      menuItems[i].style.display = "block";
    } else {
      menuItems[i].style.display = "none";
    }
  }
}

  </script>

{% endblock %}